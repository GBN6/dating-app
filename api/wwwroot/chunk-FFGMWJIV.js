import{a as Ae}from"./chunk-G3X24OKE.js";import"./chunk-GGQ7LRWG.js";import{c as Ee,d as Oe,f as I,g as Pe,h as B}from"./chunk-EV3G5C3U.js";import{a as Fe}from"./chunk-YRYVOI5Y.js";import{a as Ge}from"./chunk-U6QSPUA6.js";import{a as U}from"./chunk-MWMNPXYR.js";import{a as Be}from"./chunk-UDI4GLZX.js";import{a as we,b as j,c as Ve,d as Ie}from"./chunk-HHNKQW6O.js";import"./chunk-FEM247ZK.js";import"./chunk-BYXBJQAS.js";import{c as f}from"./chunk-4GYA7ECF.js";import"./chunk-DE7X7RVW.js";import"./chunk-DEM2V6YX.js";import"./chunk-SLUF46T5.js";import{a as Le,b as d,d as A,e as G,g as z,h as ke,i as H,j as $,n as q,p as E,q as Te}from"./chunk-Y3WRGRHF.js";import"./chunk-OQHUP3JO.js";import{a as C}from"./chunk-QCTHIZDT.js";import{$ as a,Ab as p,Ac as Ne,Bb as k,Bc as b,Cb as Ce,Cc as V,Dc as Re,Ea as se,Ga as l,Ha as me,La as ce,Lb as N,Mb as R,Oa as u,P as ae,Qa as de,Sa as ue,T as y,Ua as h,Za as m,_a as fe,cb as M,d as ne,db as ge,eb as be,fb as he,ga as x,gb as i,ha as S,hb as r,ib as c,ic as T,ka as le,mb as F,mc as _e,na as pe,ob as g,pb as v,ra as D,t as ie,ua as L,vc as ye,wc as xe,x as re,xc as Se,yc as De,zb as ve,zc as Me}from"./chunk-U7UGUVDU.js";var ze=[{label:"Matches",route:"/members",role:["Admin","Member"]},{label:"Lists",route:"/lists",role:["Admin","Member"]},{label:"Messages",route:"/messages",role:["Admin","Member"]},{label:"Admin",route:"/admin",role:["Admin","Moderator"]}];var O=class e{label=D("");route=D("");fontSize=D(1.5);static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-link"]],inputs:{label:[1,"label"],route:[1,"route"],fontSize:[1,"fontSize"]},decls:2,vars:4,consts:[["routerLinkActive","link__active",1,"link",3,"routerLink"]],template:function(t,n){t&1&&(i(0,"a",0),p(1),r()),t&2&&(fe("font-size",n.fontSize(),"rem"),m("routerLink",n.route()),l(),Ce(" ",n.label()," "))},dependencies:[V,Re],styles:[".link[_ngcontent-%COMP%]{color:var(--secondary-color-100);font-weight:600;cursor:pointer;text-decoration:none}.link[_ngcontent-%COMP%]:hover{text-decoration:underline}.link__active[_ngcontent-%COMP%]{color:var(--secondary-color-400);text-decoration:underline}"],changeDetection:0})};var Y=class e{appHasRole=[];authStateService=a(f);viewContainerRef=a(ce);templateRef=a(me);ngOnInit(){this.authStateService.roles()?.some(o=>this.appHasRole?.includes(o))?this.viewContainerRef.createEmbeddedView(this.templateRef):this.viewContainerRef.clear()}static \u0275fac=function(t){return new(t||e)};static \u0275dir=de({type:e,selectors:[["","appHasRole",""]],inputs:{appHasRole:"appHasRole"}})};function Ke(e,o){if(e&1&&c(0,"app-link",6),e&2){let t=v().$implicit;m("route",t.route)("label",t.label)}}function Qe(e,o){if(e&1&&h(0,Ke,1,2,"app-link",7),e&2){let t=o.$implicit;m("appHasRole",t.role)}}function Xe(e,o){if(e&1&&(i(0,"nav",4),be(1,Qe,1,1,"app-link",6,ge),r()),e&2){let t=v();l(),he(t.navbarConfig)}}function et(e,o){if(e&1){let t=F();i(0,"div",5),c(1,"img",8),N(2,"async"),i(3,"app-button",9),g("buttonClick",function(){x(t);let s=v();return S(s.goToProfile())}),c(4,"app-icon",10),i(5,"p"),p(6),N(7,"async"),r()(),i(8,"app-button",11),g("buttonClick",function(){x(t);let s=v();return S(s.logout())}),i(9,"p",12),p(10,"Logout"),r()()()}if(e&2){let t,n,s=v();l(),m("src",((t=R(2,3,s.userName$))==null?null:t.photoUrl)||"/user.png",se),l(5),k((n=R(7,5,s.userName$))==null?null:n.username),l(2),m("isDisabledOnRequest",!0)}}function tt(e,o){if(e&1){let t=F();i(0,"div",5)(1,"app-button",13),g("buttonClick",function(){x(t);let s=v();return S(s.goToLogin())}),c(2,"app-icon",14),i(3,"p",12),p(4,"LOGIN"),r()()()}}var W=class e{router=a(b);authService=a(f);userName$=this.authService.userData$.pipe(ie(({userData:o})=>o));isAuthorized$=f.useIsAuthorized$();isDialogVisible=L(!1);navbarConfig=ze;goToLogin(){this.router.navigate(["/login"])}goToRegister(){this.router.navigate(["/register"])}goToProfile(){this.router.navigate(["/member/edit"])}logout(){this.authService.logout().pipe(y(()=>this.router.navigate(["../"]))).subscribe()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-navbar"]],decls:10,vars:7,consts:[[1,"navbar","padding-bottom-3","padding-top-3","padding-left-7","padding-right-7"],[1,"navbar__headline","margin-right-7"],["icon","relax",1,"navbar__icon","margin-1",3,"size"],["routerLink","/"],[1,"navbar__nav"],[1,"flex","gap-1","navbar__buttons"],[3,"route","label"],[3,"route","label",4,"appHasRole"],["alt","User profile image",1,"navbar__buttons--img",3,"src"],["design","secondary",3,"buttonClick"],["icon","person"],[3,"buttonClick","isDisabledOnRequest"],[1,"bold"],["design","secondary",1,"navbar__buttons--login",3,"buttonClick"],["icon","login"]],template:function(t,n){t&1&&(i(0,"header",0)(1,"div",1),c(2,"app-icon",2),i(3,"h1",3),p(4,"DatingApp"),r()(),h(5,Xe,3,0,"nav",4),N(6,"async"),h(7,et,11,7,"div",5),N(8,"async"),h(9,tt,5,0,"div",5),r()),t&2&&(l(2),m("size",3),l(3),M(R(6,3,n.isAuthorized$)?5:-1),l(2),M(R(8,5,n.isAuthorized$)?7:9))},dependencies:[we,O,C,T,V,Y],styles:[".navbar[_ngcontent-%COMP%]{display:flex;align-items:center;box-shadow:0 5px 9px -7px var(--primary-color-300)}.navbar__headline[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.navbar__icon[_ngcontent-%COMP%]{color:var(--secondary-color-600)}.navbar__nav[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-start}.navbar__buttons[_ngcontent-%COMP%]{margin-left:auto}.navbar__buttons--img[_ngcontent-%COMP%]{border-radius:50%;width:40px;border:2px solid var(--secondary-color-400)}@media (max-width: 760px){.navbar[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:0;justify-content:center;padding:8px}.navbar__headline[_ngcontent-%COMP%]{margin:0}.navbar__nav[_ngcontent-%COMP%]{order:2;gap:1rem;margin-top:1rem}.navbar__buttons[_ngcontent-%COMP%]{gap:.5rem}.navbar__buttons--login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .navbar__buttons--img[_ngcontent-%COMP%]{display:none}}"],changeDetection:0})};var Z=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"footer","width-full","flex","flex--center","padding-2"],[1,"secondary-color-100"]],template:function(t,n){t&1&&(i(0,"footer",0)(1,"p",1),p(2,"GBN6 2025@GITHUB \xA9DatingApp"),r()())},encapsulation:2,changeDetection:0})};var He=Ee("routeTransition",[Pe("* => *",[B(":enter",[I({opacity:0})],{optional:!0}),B(":leave",[I({opacity:0,position:"absolute"})],{optional:!0}),B(":enter",[Oe("0.8s",I({opacity:1}))],{optional:!0})])]);function ot(e,o){e&1&&c(0,"mat-progress-bar",2)}var J=class e{loaderService=a(Ae);router=a(b);route=a(Me);isLoading=this.loaderService.isLoading;isRouteLoading=L(!1);constructor(){this.router.events.subscribe(o=>{o instanceof ye?this.isRouteLoading.set(!0):(o instanceof xe||o instanceof Se||o instanceof De)&&this.isRouteLoading.set(!1)})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-shell"]],decls:7,vars:2,consts:[["outlet","outlet"],[1,"shell","flex","flex--column"],["mode","indeterminate","value","40",1,"progress-bar"],[1,"footer"]],template:function(t,n){if(t&1&&(i(0,"div",1),c(1,"app-navbar"),h(2,ot,1,0,"mat-progress-bar",2),i(3,"main"),c(4,"router-outlet",null,0),r(),c(6,"app-footer",3),r()),t&2){let s=ve(5);l(2),M(n.isRouteLoading()||n.isLoading()?2:-1),l(),m("@routeTransition",s.isActivated?s.activatedRoute:"")}},dependencies:[_e,Ne,W,Fe,Z],styles:[".shell[_ngcontent-%COMP%]{min-height:100vh}main[_ngcontent-%COMP%]{margin:16px auto;max-width:100%}.progress-bar[_ngcontent-%COMP%]{position:fixed;z-index:999}.footer[_ngcontent-%COMP%]{margin-top:auto}@media (min-width: 1400px){main[_ngcontent-%COMP%]{max-width:1320px}}"],data:{animation:[He]},changeDetection:0})};function nt(e,o){if(e&1){let t=F();i(0,"app-button",6),g("buttonClick",function(){x(t);let s=v();return S(s.goToMemebers())}),i(1,"p",7),p(2,"MACTHES"),r()()}}function it(e,o){if(e&1){let t=F();i(0,"app-button",6),g("buttonClick",function(){x(t);let s=v();return S(s.goToRegister())}),i(1,"p",7),p(2,"REGISTER"),r()()}}var K=class e{router=a(b);isAuthorized$=f.useIsAuthorized$();goToRegister(){this.router.navigate(["/register"])}goToMemebers(){this.router.navigate(["/members"])}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-home"]],decls:11,vars:3,consts:[[1,"home","grid","gap-2"],[1,"home__headline"],[1,"home__headline--header"],[1,"home__headline--subheader"],[1,"home__headline--buttons","flex","flex--center","gap-2","margin-top-5"],["src","/lading_photo.svg","alt","ladning photo",1,"flex"],[3,"buttonClick"],[1,"bold"]],template:function(t,n){t&1&&(i(0,"div",0)(1,"div",1)(2,"h1",2),p(3,"Find your match"),r(),i(4,"p",3),p(5,"Come on in to view your matches... all you need to do is sign up!"),r(),i(6,"div",4),h(7,nt,3,0,"app-button"),N(8,"async"),h(9,it,3,0,"app-button"),r()(),c(10,"img",5),r()),t&2&&(l(7),M(R(8,1,n.isAuthorized$)?7:9))},dependencies:[C,T],styles:[".home__headline[_ngcontent-%COMP%]{text-align:center}.home__headline--header[_ngcontent-%COMP%]{font-size:5rem}.home__headline--subheader[_ngcontent-%COMP%]{font-size:2rem}.home[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block;margin:16px auto;padding:16px}@media screen and (min-width: 1320px){.home[_ngcontent-%COMP%]{grid-template-columns:600px 1fr}.home__headline[_ngcontent-%COMP%]{align-content:center}.home__headline--buttons[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:2rem}}"],changeDetection:0})};var P=(e,o)=>{let t=a(b);return a(f).isLoggedIn()?!0:t.navigateByUrl("/")},oe=(e,o)=>{let t=a(b);return a(f).isLoggedIn()?(t.navigateByUrl("/"),!1):!0},$e=(e,o)=>{let t=a(f);return!!(t.roles()?.includes("Admin")||t.roles()?.includes("Moderator"))};var Q=class e{fb=a(q);authStateService=a(f);router=a(b);form=this.buildForm();buildForm(){return this.fb.group({username:this.fb.control("",{validators:[d.required]}),password:this.fb.control("",{validators:[d.required]})})}handleSubmit(){if(this.form.invalid)return;let o=this.form.getRawValue();this.authStateService.login(o).pipe(y(()=>this.goBack())).subscribe()}goBack(){this.router.navigate(["/"])}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-login"]],decls:13,vars:2,consts:[[1,"login-form","flex","flex--column","gap-1","text-center",3,"ngSubmit","formGroup"],[1,"flex--justify-center-self"],["formControlName","username","type","text","label","User Name","placeholder","Enter user name"],["formControlName","password","type","password","label","Password","placeholder","Enter password"],[1,"flex","gap-2","flex--justify-center"],["design","secondary","type","button",3,"buttonClick"],["type","submit"],[1,"bold"],["route","/register","label","Don't have an account? Register Here!",3,"fontSize"]],template:function(t,n){t&1&&(i(0,"form",0),g("ngSubmit",function(){return n.handleSubmit()}),i(1,"h1",1),p(2,"LOGIN"),r(),c(3,"app-field-text",2)(4,"app-field-text",3),i(5,"div",4)(6,"app-button",5),g("buttonClick",function(){return n.goBack()}),i(7,"p"),p(8,"Go back"),r()(),i(9,"app-button",6)(10,"p",7),p(11,"Login"),r()()(),c(12,"app-link",8),r()),t&2&&(m("formGroup",n.form),l(12),m("fontSize",1))},dependencies:[E,z,A,G,H,$,U,C,j,O],styles:["@media (min-width: 620px){.login-form[_ngcontent-%COMP%]{min-width:400px}}"],changeDetection:0})};var X={email:/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/,hasAtLeastOneLetter:/[a-zA-Z]/,hasAtLeastOneNumber:/[0-9]/};function je(e){let o=e.value;return o?X.email.test(o)?null:{emailPattern:!0}:null}function Ue(e){let o=e.value,n=o.length>=8,s=X.hasAtLeastOneLetter.test(o),Ze=X.hasAtLeastOneNumber.test(o);return n&&Ze&&s?null:{password:!0}}var Ye=e=>o=>o?.parent?.get(e)?.value===o.value?null:{controlsMatch:{otherControlName:e}};var ee=class e extends Ie{placeholder=D("");maxDate=D("");static \u0275fac=(()=>{let o;return function(n){return(o||(o=le(e)))(n||e)}})();static \u0275cmp=u({type:e,selectors:[["app-field-date"]],inputs:{placeholder:[1,"placeholder"],maxDate:[1,"maxDate"]},features:[ue],decls:4,vars:6,consts:[[1,"field"],[1,"field__label",3,"for"],["type","date",1,"field__input",3,"id","placeholder","formControl","max"]],template:function(t,n){t&1&&(i(0,"div",0)(1,"label",1),p(2),r(),c(3,"input",2),r()),t&2&&(l(),m("for",n.id),l(),k(n.label()),l(),m("id",n.id)("placeholder",n.placeholder())("formControl",n.formControl)("max",n.maxDate()))},dependencies:[E,Le,A,ke,Ve],encapsulation:2,changeDetection:0})};var te=class e{fb=a(q);authStateService=a(f);router=a(b);destroyRef=a(pe);genderOptions=[{label:"male",value:"male"},{label:"female",value:"female"}];form=this.buildForm();listenPasswordChange$=re(()=>this.form.controls.password.valueChanges.pipe(ae(this.form.controls.password.value),y(()=>this.form.controls.confirmPassword.updateValueAndValidity()),Te(this.destroyRef)));ngOnInit(){this.listenPasswordChange$.subscribe()}buildForm(){return this.fb.group({username:this.fb.control("",{validators:[d.required]}),email:this.fb.control("",{validators:[d.required,je]}),firstName:this.fb.control("",{validators:[d.required,d.maxLength(20)]}),lastName:this.fb.control("",{validators:[d.required,d.maxLength(20)]}),gender:this.fb.control(null,{validators:[d.required]}),dateOfBirth:this.fb.control(null,{validators:[d.required]}),city:this.fb.control("",{validators:[d.required,d.maxLength(20)]}),country:this.fb.control("",{validators:[d.required,d.maxLength(20)]}),password:this.fb.control("",{validators:[d.required,Ue]}),confirmPassword:this.fb.control("",{validators:[d.required,Ye("password")]})})}handleSubmit(){if(this.form.invalid)return;let n=this.form.getRawValue(),{confirmPassword:o}=n,t=ne(n,["confirmPassword"]);this.authStateService.register(t).pipe(y(()=>this.goToProfile())).subscribe()}maxDate=(()=>{let o=new Date;return o.setFullYear(o.getFullYear()-18),o.toISOString().split("T")[0]})();goBack(){this.router.navigate(["/"])}goToProfile(){this.router.navigate(["/member/edit"])}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-register"]],decls:20,vars:3,consts:[[1,"register-form","flex","flex--column","gap-1",3,"ngSubmit","formGroup"],[1,"text-center"],["formControlName","username","type","text","label","User Name","placeholder","Enter user name"],["formControlName","email","type","email","label","Email","placeholder","Enter email"],["formControlName","firstName","type","text","label","First name","placeholder","Enter first name"],["formControlName","lastName","type","text","label","Last name","placeholder","Enter last name"],["formControlName","gender","type","select","label","Gender","placeholder","Choose gender",3,"options"],["formControlName","dateOfBirth","type","date","label","Date of birth","placeholder","Enter date of birth",3,"maxDate"],["formControlName","city","type","text","label","City","placeholder","Enter city"],["formControlName","country","type","text","label","Country","placeholder","Enter country"],["formControlName","password","type","password","label","Password","placeholder","Enter password"],["formControlName","confirmPassword","type","password","label","Confirm Password","placeholder","Re-enter password"],[1,"flex","gap-2","flex--justify-center"],["design","secondary","type","button",3,"buttonClick"],["type","submit"],[1,"bold"]],template:function(t,n){t&1&&(i(0,"form",0),g("ngSubmit",function(){return n.handleSubmit()}),i(1,"h1",1),p(2,"LOGIN"),r(),c(3,"app-field-text",2)(4,"app-field-text",3)(5,"app-field-text",4)(6,"app-field-text",5)(7,"app-field-select",6)(8,"app-field-date",7)(9,"app-field-text",8)(10,"app-field-text",9)(11,"app-field-text",10)(12,"app-field-text",11),i(13,"div",12)(14,"app-button",13),g("buttonClick",function(){return n.goBack()}),i(15,"p"),p(16,"Go back"),r()(),i(17,"app-button",14)(18,"p",15),p(19,"Register"),r()()()()),t&2&&(m("formGroup",n.form),l(7),m("options",n.genderOptions),l(),m("maxDate",n.maxDate))},dependencies:[E,z,A,G,H,$,U,C,j,Be,ee],styles:["@media (min-width: 620px){.register-form[_ngcontent-%COMP%]{min-width:400px}}"],changeDetection:0})};var We=e=>{let o=a(Ge),t=e.params.username;return o.getMember$(t)};var ln=[{path:"",component:J,children:[{path:"",component:K},{path:"login",component:Q,canActivate:[oe]},{path:"register",component:te,canActivate:[oe]},{path:"members",loadComponent:()=>import("./chunk-P5FJ2YLA.js").then(e=>e.MembersListComponent),canActivate:[P]},{path:"members/:username",loadComponent:()=>import("./chunk-H7Y2SKM4.js").then(e=>e.MemberDetailsComponent),canActivate:[P],resolve:{member:We}},{path:"member/edit",loadComponent:()=>import("./chunk-KAWXRTVX.js").then(e=>e.MemberEditComponent),canActivate:[P]},{path:"lists",loadComponent:()=>import("./chunk-O7OP3J53.js").then(e=>e.ListsComponent),canActivate:[P]},{path:"messages",loadComponent:()=>import("./chunk-LVOR6KVV.js").then(e=>e.MessagesComponent),canActivate:[P]},{path:"admin",loadComponent:()=>import("./chunk-7ZSYUKKY.js").then(e=>e.AdminComponent),canActivate:[$e]},{path:"not-found",loadComponent:()=>import("./chunk-ATQLT5ZI.js").then(e=>e.NotFoundComponent)},{path:"server-error",loadComponent:()=>import("./chunk-RZA77KRA.js").then(e=>e.ServerErrorComponent)},{path:"**",pathMatch:"full",redirectTo:""}]}];export{ln as routes};
