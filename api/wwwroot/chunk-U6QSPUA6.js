import{a as u}from"./chunk-SLUF46T5.js";import{ba as h}from"./chunk-OQHUP3JO.js";import{$ as a,T as o,X as m,a as s,q as p,rc as b,ua as n}from"./chunk-U7UGUVDU.js";var l=class i{httpClient=a(b);httpWithSnackbar=a(u);_members=n([]);API_URL=h.API_URL;getMembers$(e){return this.httpClient.get(`${this.API_URL}/users`,{params:e})}getMember$(e){let t=this._members().find(r=>r.username===e);return t?p(t):this.httpClient.get(`${this.API_URL}/users/${e}`)}updateMember$(e){return this.httpWithSnackbar.put(`${this.API_URL}/users`,"Update successful",e).pipe(o(()=>this.updateCachedMembers(e)))}setMainPhoto(e){return this.httpWithSnackbar.put(`${this.API_URL}/users/set-main-photo/${e}`,"Setting main photo successful",{})}deletePhoto(e){return this.httpWithSnackbar.delete(`${this.API_URL}/users/delete-photo/${e}`,"Deleting photo successful")}updateCachedMembers(e){this._members.update(t=>t.map(r=>r.username===e.username?s(s({},r),e):r))}static \u0275fac=function(t){return new(t||i)};static \u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"})};export{l as a};
